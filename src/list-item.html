<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="list-item">
  <template>

    <style>
      li {
        height: 100px;
        border: 1px solid #bbc3cc;
        list-style-type: none;
      }

      #bookImage {
				width: 70px;
				height: 100px;
        object-fit: cover;
				display: inline-block;
				float: left;
      }

      div {
        display: inline-block;
      }

      #titleAuthor {
        float: left;
      }

      #categoryIsbn {
        float: right;
      }

      .listItemText {
        margin: 0;
      }
    </style>

    <li>
      <img id="bookImage"></img>
      <div id="titleAuthor">
        <h3 class="listItemText" id="bookTitle">[[title]]</h3>
        <h4 class="listItemText" id="bookAuthors"></h4>
      </div>
      <div id="categoryIsbn">
        <p class="listItemText" id="copiesAvailable">Categorie: <span>[[category]]</span></p>
        <p class="listItemText" id="copiesExisting">ISBN: <span>[[isbn]]</span></p>
      </div>
    </li>

  </template>

  <script>
    Polymer({
      is: "list-item",
      properties: {
        id: Number,
        title: String,
        authors: {
          type: Array,
          observer: "addExtraAuthors"
        },
        category: String,
        isbn: String
      },

      addExtraAuthors: function() {
        this.$.bookAuthors.innerHTML = (this.authors[0].forename + " " + this.authors[0].surname);

        if (this.authors.length >= 2) {
          this.$.bookAuthors.innerHTML += ("<br/>" + this.authors[1].forename + " " + this.authors[1].surname);
        }

        if (this.authors.length === 3) {
          this.$.bookAuthors.innerHTML += ("<br/>" + this.authors[2].forename + " " + this.authors[2].surname);
        }
      }
    });
  </script>

</dom-module>
