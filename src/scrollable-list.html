<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="list-item.html">

<dom-module id="scrollable-list">
  <template>

    <style>
      nav ul {
        height: 400px;
        width: 600px;
        border: 1px solid #bbc3cc;
        padding: 0;
        overflow: hidden;
        overflow-y: scroll;
      }

      list-item {
        cursor: pointer;
        cursor: hand;
      }
    </style>

    <!--<iron-ajax
      id="requestBooks"
      url="/SogyoLibrary/rest/books"
      handle-as="json"
      on-response="handleResponse">
    </iron-ajax>-->

    <nav>
      <ul id="list-searchresults">
        <template is="dom-repeat" items="[[books]]">
          <list-item id={{item.id}} title={{item.title}} author={{item.author}} category={{item.category}} isbn={{item.isbn}} on-tap="showDetailsBook"></list-item>
        </template>
      </ul>
    </nav>
  </template>

  <script>
    Polymer({
      is: "scrollable-list",
      properties: {
        books: Array
      },
      // ready: document.getElementById("list-searchresults").addEventListener("click", function(e) {
      //   if (e.target && e.target.nodeName === "LI") {
      //     console.log(e.target.id + " was clicked");
      //   }
      // }),
      showDetailsBook: function(e) {
        window.location.href = "book-info/" + e.target.getAttribute("id");
      }
      // ready: function() {
      //   this.$.requestBooks.generateRequest();
      // },
      // handleResponse: function(data) {
      //   this.books = data.detail.response;
      // },
      // showDetailsBook: function() {
      //   window.location.href = "/SogyoLibrary"
      // }
    });
  </script>

</dom-module>
